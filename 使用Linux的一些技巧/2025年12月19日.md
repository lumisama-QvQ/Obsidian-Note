# Linux系统的定时唤醒
默认的`cron`等计数器在电脑挂起或是关机后就无效了，但我们可以使用`rtcwake`通过直接操控`RTC`来实现定时唤醒
```
用法：
 rtcwake [选项]

进入系统睡眠状态，直到指定的唤醒时间。

选项：
 -a, --auto               从 adjust 文件读取时钟模式(默认)
 -A, --adjfile <文件>     指定 adjust 文件的路径
                            默认为 /etc/adjtime
     --date <时间戳>      唤醒时间戳的日期时间
 -d, --device <设备>      选择 rtc 设备(rtc0|rtc1|...)
 -n, --dry-run            演示操作但不执行(suspend)
 -l, --local              RTC 使用本地时区
     --list-modes         列出可用模式
 -m, --mode <模式>        指定 standby|mem|... 等睡眠模式
 -s, --seconds <秒数>     指定睡眠的秒数
 -t, --time <time_t>      指定唤醒时刻
 -u, --utc                RTC 使用 UTC
 -v, --verbose            输出详尽消息

 -h, --help               显示此帮助
 -V, --version            显示版本
```

比如：
```bash
//立即关机，并在30分钟后开机
sudo rtcwake -m off -t $(date -d "+30 minutes" +%s)
//在明天上午7点唤醒电脑
sudo rtcwake -m no -t $(date -d "tomorrow 07:00" +%s)
```
> 注意：建议使用`timedatectl`检查RTC时间，防止错误唤醒
> 同时Windows的快速启动和BIOS的节能设置都有可能影响到唤醒，建议关闭

但`rtcwake`只能负责**唤醒**，并不能**执行命令**，如果是想要实现定时启动后执行命令，请使用脚本，并设置为开机自启动

# Linux下查看软件内存占用
## 原生自带：
```bash
//查看占用前十
ps -aux --sort=-%mem | head -n 10
``` 
![](附件/Pasted%20image%2020251219133201.png)
当然有第三方的啦，比如`smem`是用`python`写的一个查看软件内存实际用量的软件，`procs`是用`rust`写的现代版`ps`
并且这些工具用的都是人类能看懂的单位(不像是ps只能用KB,那显示就不是人看的)
## procs
```bash
procs 帮助文档

一个现代化的 ps 替代品

用法: procs [选项] [关键词]...

参数:
  [关键词]...            用于搜索的关键词

选项:
  -a, --and                         多关键词搜索使用“与”逻辑 (AND)
  -o, --or                          多关键词搜索使用“或”逻辑 (OR)
  -d, --nand                        多关键词搜索使用“与非”逻辑 (NAND)
  -r, --nor                         多关键词搜索使用“或非”逻辑 (NOR)
  -l, --list                        显示可选的列类型列表
      --thread                      显示线程
  -t, --tree                        树状视图显示
  -w, --watch                       监视模式，默认间隔 1 秒
  -W, --watch-interval <second>     监视模式，自定义间隔秒数
  -i, --insert <kind>               在指定位置插入列
      --only <kind>                 仅显示指定的列
      --sorta <kind>                按指定列升序排序
      --sortd <kind>                按指定列降序排序
  -c, --color <COLOR>               颜色模式 [可选值: auto, always, disable]
      --theme <THEME>               主题模式 [可选值: auto, dark, light]
  -p, --pager <PAGER>               分页模式 [可选值: auto, always, disable]
      --json                        以 JSON 格式输出
      --interval <millisec>         计算吞吐量的间隔时间（毫秒） [默认: 100]
      --use-config <name>           使用内置配置 [可选值: default, large]
      --load-config <path>          从指定路径加载配置文件
      --gen-config                  生成示例配置文件
      --gen-completion <shell>      生成 Shell 补全文件 [可选值: bash, elvish, fish, powershell, zsh]
      --gen-completion-out <shell>  生成 Shell 补全文件并输出到标准输出 (stdout)
      --no-header                   隐藏表头
      --procfs <PROCFS>             指定 procfs 的路径
  -h, --help                        打印帮助信息（使用 '--help' 查看更多详情）
  -V, --version                     打印版本信息
```
使用`procs --sortd  RSS | head -n 10`即可查看前十的内存占用

## smem(推荐)
```bash
smem 帮助文档 (中文翻译)

用法: smem [选项]

选项:
  -h, --help            显示此帮助信息并退出
  -H, --no-header       禁用表头行
  -c COLUMNS, --columns=COLUMNS
                        指定要显示的列
  -t, --totals          显示总计
  -a, --autosize        根据终端大小自动调整列宽
  -R REALMEM, --realmem=REALMEM
                        指定物理内存 (RAM) 总量
  -K KERNEL, --kernel=KERNEL
                        内核镜像路径
  -m, --mappings        显示映射信息 (Mappings)
  -u, --users           按用户显示内存使用情况
  -w, --system          显示整个系统的内存使用情况
  -P PROCESSFILTER, --processfilter=PROCESSFILTER
                        进程过滤 (支持正则表达式)
  -M MAPFILTER, --mapfilter=MAPFILTER
                        映射过滤 (支持正则表达式)
  -U USERFILTER, --userfilter=USERFILTER
                        用户过滤 (支持正则表达式)
  -n, --numeric         数字输出
  -s SORT, --sort=SORT  指定排序字段
  -r, --reverse         反向排序
  -p, --percent         显示百分比
  -k, --abbreviate      显示单位后缀 (如 KB, MB)
  --pie=PIE             显示饼图 (需 matplotlib)
  --bar=BAR             显示柱状图 (需 matplotlib)
  -S SOURCE, --source=SOURCE
						指定 /proc 数据源路径
```
使用`smem -rk | head -n 10`即可友好的查看